
<!-- Styles to correct WordPress issues -->
<!--
<style>
header div, .venueHeader div {
 background-color: black;
</style>
-->
   <style>
    /* Color palette - http://paletton.com/#uid=6000u0ksSpBj5vWo2t5vakUDbfR */

    /* -------------------------------------
    CSS reset
    Is a short set of CSS rules that resets the styling of all HTML elements to a consistent baseline so the website will look the same on all browsers
    */

    * {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        /*The box-sizing property is used to tell the browser what the sizing properties (width and height) should include border-box.*/
        box-sizing: border-box;
        /*reset Chrome user agent styles*/
        -webkit-margin-before: 0px;
        -webkit-margin-after: 0px;
        -webkit-margin-start: 0px;
        -webkit-margin-end: 0px;
        -webkit-padding-before: 0px;
        -webkit-padding-after: 0px;
        -webkit-padding-start: 0px;
        -webkit-padding-end: 0px;
        /*reset Firefox user agent styles*/
        -moz-margin-before: 0px;
        -moz-margin-after: 0px;
        -moz-margin-start: 0px;
        -moz-margin-end: 0px;
        -moz-padding-before: 0px;
        -moz-padding-after: 0px;
        -moz-padding-start: 0px;
        -moz-padding-end: 0px;
        /*reset Internet Explorer user agent styles*/
        -ms-margin-before: 0px;
        -ms-margin-after: 0px;
        -ms-margin-start: 0px;
        -ms-margin-end: 0px;
        -ms-padding-before: 0px;
        -ms-padding-after: 0px;
        -ms-padding-start: 0px;
        -ms-padding-end: 0px;
        /*reset Opera user agent styles*/
        -o-margin-before: 0px;
        -o-margin-after: 0px;
        -o-margin-start: 0px;
        -o-margin-end: 0px;
        -o-padding-before: 0px;
        -o-padding-after: 0px;
        -o-padding-start: 0px;
        -o-padding-end: 0px;
    }

    body {
        /*    margin: 140px 6% 0 6%;*/
        width: 100%;
        font-size: 22px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 400;
        line-height: 1.5;
        background-color: #202020;
        color: #bdbaba;
        height: 100%;
    }

    .curtainMain {
        z-index: 600;
        width: 100%;
        height: 105%;
        position: fixed;
        top: 0;
    }

    .curtainRight {
        position: fixed;
        right: 0;
        top: 0;
        height: 100%;
        z-index: 601;
        max-width: 15%
    }

    .curtainLeft {
        position: fixed;
        left: 0;
        top: 0;
        height: 100%;
        z-index: 601;
        max-width: 15%
    }

    .curtainTop {
        /* HIDE ON NARROW SCREENS? */
        position: fixed;
        top: 0;
        width: 100%;
        height: 60px;
        z-index: 602;
    }

    header {
        width: 100%;
        margin-top: 20px;
        left: 0;
        z-index: 2;
    }

/*    header div,
    .venueHeader div {
        padding: 0;
        margin: 0;
        margin-left: -20%;
        text-align: center;
        border: 1px black solid;
        background-color: white;
        width: 140%;
        line-height: 38px;
    }
*/

    h1,
    .marqueeText,
    .hideMe {
        font-family: 'Overpass Mono', monospace;
        text-align: center;
        font-size: 40px;
        font-weight: 300;
        color: black;
        margin: 4px 0 -5px 0;
    }

    .hideMe {
        visibility: hidden;
    }

    .offScreen {
        position: absolute;
        left: -10000px;
        top: auto;
        width: 1px;
        height: 1px;
        overflow: hidden;
    }

    h2 {
        text-align: center;
        font-size: 34px;
        color: #E83A3A;
        padding-top: 20px;
        padding-bottom: 20px;
    }

    .searchBox,
    .resultsBox {
        border: 7px dotted #fed9ba;
        /* creates solid lines inside & outside of dotted border */
        box-shadow: inset 0 -1px 0 0 #FE6767, inset 0 1px 0 0 #FE6767, 0 1px 0 0 #FE6767, 0 -1px 0 0 #FE6767, inset 1px 0 0 0 #FE6767, inset -1px 0 0 0 #FE6767, 1px 0 0 0 #FE6767, -1px 0 0 0 #FE6767;
        margin: 70px 12%;
        width: 76%;
    }

    .commentButtons {
        margin-top: 20px;
    }

    .sorter {
        text-align: center;
        margin-bottom: 0;
    }

    .selectCenterer {
        text-align: center;
        display: block;
        margin: 0 auto 50px auto;
    }

    .selectCenterer select {
        width: 70%;
        font-size: .8em;
        padding: 3px;
    }

    .searchBox h3 {
        text-align: center;
        color: #FEAB67;
        padding-bottom: 20px;
    }

    .searchDescriptions {
        padding: 0 30px 30px 30px;
        font-size: .85em;
    }

    .searchDescriptionTitle {
        color: #FEAB67;
    }

    .searchDescriptions p {
        padding-top: 20px;
    }

    .textBlock {
        padding: 20px;
    }

    .venueLimiter {
        text-align: center;
        padding: 30px;
        font-size: 1.2em;
    }

    #nameSearch {
        width: 90%;
        font-size: .7em;
    }

    .listHolder,
    .mapBox {
        border-top: 7px dotted #fed9ba;
        /* creates solid lines inside & outside of dotted border */
        box-shadow: inset 0 1px 0 0 #FE6767, 0 -1px 0 0 #FE6767;
        padding: 0;
    }

    .paddingAdder {
        height: 60px;
        background-color: #161616;
    }

    .paLeft {
        border-left: 1px solid #FE6767;
    }

    .paRight {
        border-right: 1px solid #FE6767;
    }

    .paTop {
        border-top: 1px solid #FE6767;
    }

    .paBottom {
        border-bottom: 1px solid #FE6767;
    }

    .paddingAdder h3 {
        padding: 10px 30px;
        color: #FE6767;
        font-size: 1.2em;
    }

    .scrollbarExtender {
        border-right: 16px #f1f1f1 solid;
    }

    .listBox {
        /*    margin-top: 30px;*/
        /*    margin-bottom: 30px;*/
        height: 400px;
        overflow-y: scroll;
        padding: 30px 16px;
        /*    border-top: 1px solid #FE6767;*/
    }

    .listBox p {
        /*
        padding-right: 10px;
        padding-left: 10px;
        padding-bottom: 20px;
        */
        padding: 10px 20px;
    }

    .even {
        background-color: #191919;
        border-radius: 8px;
        box-shadow: 2px 2px #333333;
        /* #242424;*/
    }

    .odd {
        margin-top: 2px;
        background-color: #202020;
    }

    .address {
        color: #FEAB67;
    }

    #map {
        height: 400px;
        width: 94%;
        margin: 0 3%;
    }

    a {
        text-decoration: none;
        color: #5CB2C2;
    }

    a:hover {
        color: #aee7f2;
        text-shadow: 0 0 1px white;
        cursor: pointer;
    }

    button {
        cursor: pointer;
        margin: 10px;
        padding: 15px;
        border-radius: 20px;
        color: white;
        background-color: #006500;
        font-size: .9em;
        box-shadow: 1px 1px white;
    }


    input {
        width: 50%;
        box-shadow: px 2px 2px black inset;
        /* ADJUST COLOR ONCE COLOR PALATTE FINALIZED */
        height: 35px;
        margin: 5px 5% 10px 5%;
        padding-left: 10px;
    }

    .listBox button {
        font-size: .8em;
        padding: 5px 8px;
        border-radius: 10px;
        margin-left: 30px;
    }

    button:hover {
        text-shadow: 0 0 1px white;
        background-color: #038503;
    }

    #reviewButton {
        margin-bottom: 30px;
    }

    .jsHide,
    .reviewBox,
    .newUser,
    .login {
        display: none;
    }

    #closeVenue {
        position: fixed;
        top: 40px;
        right: 40px;
        z-index: 701;
    }

    .star {
        cursor: pointer;
    }

    .star:hover {
        text-shadow: 0 0 1px white;
    }

    .venueBox,
    .reviewBox,
    .newUser,
    .login {
        width: 100%;
        height: 100%;
        padding: 20px 5%;
        position: fixed;
        top: 0;
        left: 0;
        overflow: auto;
        background-color: black;
    }

    .venueBox,
    .newUser,
    .login {
        z-index: 101;
    }

    .login form,
    .newUser form {
        padding-top: 60px;
    }

    .newUser form div {
        margin-bottom: 20px;
    }

    .loginLabel {
        text-align: right;
        padding-right: 20px;
        margin-bottom: 20px;
    }

    .loginInput {
        text-align: left;
        margin-bottom: 20px;
    }

    .login input {
        margin-left: 20px;
        text-align: left;
    }

    .login button {
        margin: 10px;
    }

    .venueInfo {
        margin-top: 50px;
    }

    .venueInfo img {
        width: 80%;
        border-radius: 20px;
    }

    .venueInfo iframe {
        border-radius: 20px;
    }

    .venueNameHeader {
        font-size: 2.2em;
    }

    .venueNameHeader a {
        color: #CC1414;
    }

    hr {
        border: #A70404 solid 1px;
        /*    width: 90%;*/
    }

    .venueAddress {
        font-size: 1.3em;
        color: #FE6767;
        text-align: left;
        padding: 0 40px 0 20px;
    }

    .venueDescription {
        text-align: left;
        line-height: 2;
        padding: 20px;
    }

    .userName {
        color: #CC5297;
        font-size: 1.3em;
        margin-top: 30px;
        margin-bottom: 30px;
    }

    .userRatings p {
        padding: 0 20px;
        margin: 0;
        color: #FEAB67;
    }

    .userReview {
        text-align: left;
        padding: 25px 6%;
    }

    #userReviews p {
        margin: 10px;
    }

    #userReviews p:first-child {
        margin-top: 30px;
    }

    .reviewBox {
        z-index: 201;
        position: fixed;
    }

    .userRatings form {
        margin-top: 20px;
    }

    .commentBox {
        margin-bottom: 30px;
    }

    textarea {
        width: 50%;
        height: 150px;
        margin-top: 30px;
    }

    .alertBoxContainer {
        display: none;
        top: 0;
        height: 100%;
        margin: 0%;
        width: 100%;
        position: fixed;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 500;
    }

    .alertBox {
        display: none;
        position: fixed;
        /* center box in page */
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        width: 50%;
        height: 50%;
        background-color: black;
        font-size: 1.5em;
        text-align: center;
        padding: 50px;
        z-index: 501;
        border: 7px dotted #fed9ba;
        /* creates solid lines inside & outside of dotted border */
        box-shadow: inset 0 -1px 0 0 #FE6767, inset 0 1px 0 0 #FE6767, 0 1px 0 0 #FE6767, 0 -1px 0 0 #FE6767, inset 1px 0 0 0 #FE6767, inset -1px 0 0 0 #FE6767, 1px 0 0 0 #FE6767, -1px 0 0 0 #FE6767;
    }

    .alertBox button {
        margin: 50px;
        font-size: .8em;
    }

    footer {
        /*    position: fixed;*/
        background-color: #100200;
        /*    border-top: 10px inset #830e02;*/
        padding: 10px 0;
        width: 100%;
        margin: 0;
        overflow: auto;
        margin-top: 60px;
        z-index: 400;
    }

    footer a {
        padding-left: 8px;
        padding-right: 8px;
    }

    .left {
        float: left;
        padding: 5px 20px 5px 12%;
        /* Mirror image of .right */
        width: 49%;
    }

    .right {
        float: right;
        padding: 5px 12% 5px 20px;
        /* Need to be sure right margin clears right curtain so icons clickable */
        width: 49%;
        text-align: right;
    }

    form {
        width: 100%;
        display: inline-block;
        text-align: center;
    }

    .makeVisible {
        visibility: visible;
        display: inline-block;
        /*    z-index: 100;*/
        text-align: center;
    }

    .visibleAlert {
        visibility: visible;
        display: block;
    }

    @media only screen and (max-width: 1300px) {
        #map {
            width: 100%;
            margin: 0;
        }
        .curtainLeft,
        .curtainRight {
            max-width: 10%;
        }
        .right {
            padding-right: 8%;
            /* Need to be sure right margin clears right curtain so icons clickable */
        }
        .left {
            padding-left: 8%;
            /* match .right */
        }
    }

    /* Goes from multi-column to single column at 1150 px */

    @media only screen and (max-width: 1150px) {
        .paRight {
            border-left: 1px solid #FE6767;
        }
        #map {
            width: 92%;
            margin: 4%;
        }
        .paddingAdder:not(.paLeft) {
            background-color: #202020;
        }
        .venueLimiter {
            padding-top: 0;
        }
        .textBlock {
            padding-bottom: 50px;
        }
        .venueAddress {
            padding: 20px 5%;
        }
        .venueDescription {
            padding: 20px 5%;
        }
        .loginLabel {
            text-align: center;
            padding-right: 0;
        }
        .loginInput {
            text-align: center;
        }
        .login input {
            margin-right: 20px;
            /* match margin-left */
        }
        .alertBox {
            font-size: 1.4em;
            width: 55%;
            height: 55%;
        }
    }

    @media only screen and (max-width: 850px) {
        body {
            font-size: 20px;
        }
        #closeVenue {
            top: auto;
            bottom: 40px;
            right: 0;
            left: 0;
            margin-right: auto;
            margin-left: auto;
            width: 150px;
        }
        .alertBox {
            width: 60%;
            height: 60%;
            font-size: 1.3em;
        }
        #reviews {
            margin-bottom: 120px;
            /* to make sure closeVenue button doesn't block bottom of page */
        }
    }

    @media only screen and (max-width: 750px) {
        body {
            line-height: 1.3;
        }
    }

    @media only screen and (max-width: 640px) {
        body {
            font-size: 18px;
        }
        .alertBox {
            width: 70%;
            height: 70%;
            font-size: 1.2em;
        }
    }


    @media (max-width: 500px) {
        body {
            font-size: 16px;
        }
        .curtainLeft,
        .curtainRight {
            display: none;
        }
    }

    * {
        box-sizing: border-box;
    }

    .row {
        max-width: 1400px;
        margin: 0 auto;
    }

    /* Clearfix */

    .row::before,
    .row::after {
        display: table;
        content: '';
    }

    .row::after {
        clear: both;
    }

    .col-1-no-mobile,
    .col-2,
    .col-3,
    .col-4,
    .col-5,
    .col-5-plus,
    .col-6,
    .col-7,
    .col-8,
    .col-12 {
        float: left;

        /* Gutters:
        * Each column is padded by half-a-gutter on each side,
        *
        * Half a gutter is 10px, 10/960 (context) = 1.041666%
        *
        */
        padding-left: 1.04166666%;
        padding-right: 1.04166666%;
    }

    /* Mobile defaults */

    .col-1-no-mobile .col-2,
    .col-3,
    .col-4,
    .col-5,
    .col-5-plus,
    .col-6,
    .col-7,
    .col-8,
    .col-12 {
        width: 100%;
    }

    .col-1-no-mobile {
        display: none;
    }


    /* Non-mobile, grid */

    @media only screen and (min-width: 1150px) {  /* Normally 640px */
        .col-1-no-mobile {
            display: inline-block;
            width: 8.33%;
        }
        .col-2 {
            width: 16.66%;
        }
        /* 3 columns, 3/12 in % */
        .col-3 {
            width: 25%;
        }

        /* 4 columns */
        .col-4 {
            width: 33.33%;
        }

        /* 5 columns */
        .col-5 {
            width: 41.67%;
        }
        /* 5.5 columns */
        .col-5-plus {
            display: inline-block;
            width: 45.83%;
        }
        /* 6 columns */
        .col-6 {
            width: 50%;
        }

        /* 7 columns */
        .col-7 {
            width: 58.33%;
        }

        /* 8 columns */
        .col-8 {
            width: 66.67%;
        }

        /* 12 columns */
        .col-12 {
            width: 100%;
        }
    }


</style>

<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link href="https://fonts.googleapis.com/css?family=Kanit|Montserrat|Open+Sans:600|Quicksand|Raleway|Roboto:700" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Anton|Arimo|Dhurjati|Fira+Mono|Nova+Mono|Overpass+Mono:300,400|PT+Sans" rel="stylesheet">




        <main role="main">

            <div class="row resultsBox">
                <div class="col-12">
                    <h2 class="venueList">DC Music Venues</h2>
                    <p class="textBlock">Venues in Washington, DC, that offer live music are listed below. In the map view, hover over a pin for the venue name, or click on the pin for more information. If you would like to narrow the list of results, type a venue name below or set your search parameters in the "Your Preferences" box farther down on the page.</p>
                </div>
                <div class="col-7 venueLimiter searchDescriptionTitle">Limit Results by Venue Name:</div>
                <div class="col-5 venueLimiter">
                    <input type="text" id="nameSearch" onkeyup="searchNames()" placeholder="Type all or part of venue name">
                </div>
                <div class="col-7 listHolder">
                    <div class="paddingAdder paTop paLeft scrollbarExtender">
                        <!-- Venue list is generated here -->
                        <h3>Your List</h3>
                    </div>
                    <div class="listBox" id="listBox">
                    </div>
                    <div class="paddingAdder paBottom paLeft scrollbarExtender"></div>

                </div>
                <div class="col-5 mapBox">
                    <div class="paddingAdder paTop paRight">
                        <!-- Map is created here -->
                        <h3>Your Map</h3>
                    </div>
                    <div id="map"></div>

                </div>
            </div>


            <div class="row searchBox">
                <!-- PULL-DOWN MENUS OF SEARCH/SORT PARAMETERS TO FIND VENUES -->
                <h2 class="sorter col-12">Your Preferences</h2>
                <div class="col-4">
                    <h3>Venue Type*:</h3>
                    <div class="selectCenterer">
                        <select id="venueType">
                            <option value="all">Any/No Preference</option>
                            <option value="dedicated">Shhh... music's playing!</option>
                            <option value="musicFirst">Music + food/drink/socializing</option>
                            <option value="foodFirst">Food/drink w/ background music</option>
                        </select>
                    </div>
                </div>
                <div class="col-4">
                    <h3>Venue Size:</h3>
                    <div class="selectCenterer">
                        <select id="size">
                            <option value="all">Any/No Preference</option>
                            <option value="small">Small/Intimate</option>
                            <option value="medium">Medium/Comfortable</option>
                            <option value="large">Large/Epic</option>
                        </select>
                    </div>
                </div>
                <div class="col-4">
                    <h3>Free or Ticketed**:</h3>
                    <div class="selectCenterer">
                        <select id="freeTicketed">
                            <option value="all">Any/No Preference</option>
                            <option value="free">Free/No Cover</option>
                            <option value="ticketed">Ticketed or Cover Charge</option>
                        </select>
                    </div>
                </div>
                <div class="col-12 searchDescriptions">
                    <p><span class="searchDescriptionTitle">*Venue Type:</span> Would you prefer a formal concert experience - people focused on the music, while keeping conversations to a minimum? A music-first experience where it's nonetheless OK to chat and walk around? Or would you prefer that music be in the background, with eating, drinking, or socializing as the primary activity?</p>
                    <p><span class="searchDescriptionTitle">**Free/Ticketed:</span> Venues which regularly offer free shows AND regularly offer ticketed shows will show up in both lists. Venues which offer free shows on rare occasion will show up <em>only</em> in the "ticketed" list, and venues which are usually free but occasionally charge will <em>only</em> show up in the "free" list. Don't forget, though, free isn't always free - <span class="searchDescriptionTitle">if there's a tip jar, tip generously!</span></p>
                </div>
            </div>

            <div class="venueBox jsHide">
                <div class="row venueHeader">
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                    <div>
                        <p class="marqueeText">INTRODUCING:</p>
                    </div>
                    <div>
                        <h1 class="marqueeText" id="venueMarquee">9:30 CLUB</h1>
                    </div>
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                </div>
                <div class="row venueInfo" id="venueInfo">
                </div>
                <hr>
                <div class="reviews" id="reviews">
                    <h2>Reviews</h2>
                </div>
            </div>
            <button id="closeVenue" class="jsHide">Back to Search Page</button>

            <div class="newUser">
                <div class="row venueHeader">
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                    <div>
                        <p class="marqueeText">CREATE</p>
                    </div>
                    <div>
                        <p class="marqueeText">A USERNAME!</p>
                    </div>
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                </div>
                <form id="newUser">
                    <div class="row">
                        <div class="col-6 loginLabel">Username:</div>
                        <div class="col-6 loginInput"><input name="userName" placeholder="testuser" autocomplete="off"></div>
                    </div>
                    <div class="row">
                        <div class="col-6 loginLabel">Password:</div>
                        <div class="col-6 loginInput"><input name="password" placeholder="testpassword" autocomplete="off"></div>
                    </div>
                    <div class="row">
                        <div class="col-6 loginLabel">Confirm Password:</div>
                        <div class="col-6 loginInput"><input name="passwordConfirm" placeholder="testpassword" autocomplete="off"></div>
                    </div>
                    <div class="row">
                        <button type="submit">Submit</button>
                    </div>
                </form>
                <button id="cancelNewUser">Cancel</button>
            </div>

            <div class="login">
                <div class="row venueHeader">
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                    <div>
                        <p class="marqueeText">LOG IN!</p>
                    </div>
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                </div>
                <form id="login">
                    <div class="row">
                        <div class="col-6 loginLabel">Username:</div>
                        <div class="col-6 loginInput"><input name="signinUserName" placeholder="testuser" autocomplete="off"></div>
                    </div>
                    <div class="row">
                        <div class="col-6 loginLabel">Password:</div>
                        <div class="col-6 loginInput"><input name="signinPassword" placeholder="testpassword" autocomplete="off"></div>
                    </div>
                    <div class="row">
                        <button id="loginClicked" type="submit">Submit</button>
                    </div>
                </form>
                <div class="row"><button id="cancelLogin">Cancel</button></div>
                <div class="row"><button id="newUserButton">New User?</button></div>
            </div>

            <div class="reviewBox" id="leaveReview">
                <div class="row venueHeader">
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                    <div>
                        <p class="marqueeText" id="nowReviewing">NOW REVIEWING:</p>
                    </div>
                    <div>
                        <p class="marqueeText" id="reviewMarquee"></p>
                    </div>
                    <div>
                        <p class="hideMe">HIDE ME</p>
                    </div>
                </div>

                <div id="userReviews" class="row">
                    <p id="listeningExperience">Listening Experience: <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                    <p id="venueFeel">Venue Feel: <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                    <p id="musicValue">Music Value: <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                    <p id="musicQuality">Quality of Musician(s): <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                    <p id="foodQuality">Food/Drink Quality*: <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                    <p id="foodValue">Food/Drink Value*: <span class="star" value="1"><i class="fas fa-star value1"></i></span><span class="star" value="2"><i class="fas fa-star value2"></i></span><span class="star" value="3"><i class="fas fa-star value3"></i></span><span class="star" value="4"><i class="fas fa-star value4"></i></span><span class="star" value="5"><i class="fas fa-star value5"></i></span></p>
                </div>

                <div class="row commentBox">
                    <textarea maxlength="300" placeholder="Type your review" id="userComments"></textarea>
                </div>
                <p class="row extraInfo">*If not applicable, just leave these fields blank.</p>
                <div class="row commentButtons">
                    <button id="submitReview">Submit Review</button>
                </div>
                <button id="skipReview">Cancel Review</button>
                <div id="deleteReview"></div>
            </div>

            <div class="alertBoxContainer" class="hideMe">
                <div class="alertBox" class="hideMe"></div>
            </div>

            <footer role="contentinfo">
                <div class="left">© David Sundland</div>
                <div class="right"><a href="https://github.com/DavidSundland" target="_blank"><i class="fab fa-github"></i></a><a href="https://www.linkedin.com/in/david-sundland" target="_blank"><i class="fab fa-linkedin-in"></i></a><a href="https://angel.co/david-sundland" target="_blank"><i class="fab fa-angellist"></i></a><a href="mailto:dsundland@gmail.com"><i class="far fa-envelope"></i></a></div>
            </footer>

        </main>

        <script src="https://code.jquery.com/jquery-3.2.1.min.js "></script>
        <script>

                function viewVenue() {
                let venueName = $(this).parent().find(".venueName")[0].innerHTML;
                let venueLink = $(this).parent().find("a")[0].href;
                let venueAddress = $(this).parent().find(".address")[0].innerHTML;
                //            let venueDesc = $(this).parent().find(".description")[0].innerHTML;
                let venuePic = $(this).parent().find(".picUrl")[0].value;
                let venueDescription = $(this).parent().find(".fullDesc")[0].value;
                renderVenue(venueName, venueLink, venueAddress, venueDescription, venuePic);
            }

            function renderVenue(venueName, venueLink, venueAddress, venueDescription, venuePic) {
                let stars = [
                    'Not rated.',
                    '<i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>',
                    '<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>',
                    '<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>',
                    '<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>',
                    '<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>'
                ];
                $("#venueMarquee").html(venueName.toUpperCase());
                $("#venueInfo").html(`
<div class="col-6">
<img src="${venuePic}" alt="Photo of ${venueName}" target="_blank">
<iframe width="80%" height="400px" frameborder="0" style="border:0; clear: both; margin:10px;" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBdNRsY4zEYnRfcQ0_ZVVd370D7yuApzhI&amp;q=${venueName}, Washington, DC&amp;maptype=roadmap" allowfullscreen=""></iframe>
            </div>
<div class="col-6">
<h3 class="venueNameHeader"><a href="${venueLink}">${venueName}</a></h3>
<hr>
<p class="venueAddress">${venueAddress}</p>
<p class="venueDescription">${venueDescription}</p>
<button id="reviewButton" title="${venueName}">Leave a Review!</button>
            </div>`);
                $('#reviews').html(`<h2>Reviews</h2>`);
                let tracker = 0;
                $.getJSON('https://venue-evaluator.herokuapp.com/venuereviews/' + venueName, function(res) {
                    tracker++;
                    console.log("GET REVIEWS TRACKER: ", tracker);
                    if (res.results.length === 0) {
                        $('#reviews').append(`No one has left a review for ${venueName} yet!`);
                        $("#reviewButton").html("Leave a Review!");
                    } else {
                        $("#reviewButton").html("Leave or Edit a Review!");
                    }
                    for (let x = 0; x < res.results.length; x++) {
                        $('#reviews').append(`
<div class="oneReview">
<p class="userName row">${res.results[x].userName}</p>
<div class="row userRatings">
<p class="col-6">Listening Experience: ${stars[Number(res.results[x].listeningExperience)]}</p>
<p class="col-6">Venue Feel: ${stars[Number(res.results[x].venueFeel)]}</p>
<p class="col-6">Music Value: ${stars[Number(res.results[x].musicValue)]}</p>
<p class="col-6">Band Quality: ${stars[Number(res.results[x].musicQuality)]}</p>
<p class="col-6">Food/Beverage Quality: ${stars[Number(res.results[x].foodQuality)]}</p>
<p class="col-6">Food/Beverage Value: ${stars[Number(res.results[x].foodValue)]}</p>
            </div>
<p class="userReview row">${res.results[x].userReview}</p>
            </div>
<hr>
`);
                    }
                    $('.jsHide').addClass("makeVisible");
                });
            }

            function initMap(venuetype, venuesize, freeticketed) {
                if (venuetype === undefined) { // initially will be a callback with no parameters
                    venuetype = "all";
                    venuesize = "all";
                    freeticketed = "all";
                }
                $.getJSON('https://venue-evaluator.herokuapp.com/venues/partiallist/' + venuetype + '/' + venuesize + '/' + freeticketed, function(res) {
                    var mapCenter = {
                        lat: 38.9222375,
                        lng: -77.0093275
                    };
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 12,
                        center: mapCenter
                    });
                    var markers = [];
                    for (let x = 0; x < res.results.length; x++) {
                        let coord = {
                            "lat": Number(res.results[x].latitude),
                            "lng": Number(res.results[x].longitude)
                        };
                        markers.push(new google.maps.Marker({
                            position: coord,
                            map: map,
                            title: res.results[x].venuename
                        }));
                        markers[x].addListener('click', function() { /* Note - calling renderVenue directly (instead of w/ anon fn) caused renderVenue to be called w/o click */
                            console.log("Google map clicked");
                            renderVenue(res.results[x].venuename, res.results[x].website, res.results[x].streetaddress, res.results[x].description, res.results[x].imageurl);
                        });
                    }
                });
            }
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAa9jFz1GClkj8pW9ytY6tB70hVFj1RGYQ&callback=initMap">
        </script>

        <!-- For getting lat & long from address -->
        <script type="text/javascript " src="https://maps.google.com/maps/api/js?key=AIzaSyAa9jFz1GClkj8pW9ytY6tB70hVFj1RGYQ"></script>
        <script src="client.js "></script>



<script>



let LOGGEDIN = false;
let USERNAME = "";

// narrows list of venues based upon typed name
function searchNames() {
    let userSearch = $("#nameSearch").val().toUpperCase();
    let venuePs = $("#listBox").find("p");
    for (let venueP of venuePs) {
        let a = venueP.getElementsByTagName("a")[0];
        // looks at both "short" and "long" name (both "AU - Greenberg" and "American University - Greenberg Theater")
        if ((a.innerHTML.toUpperCase().indexOf(userSearch) !== -1) || (a.title.toUpperCase().indexOf(userSearch) !== -1)) {
            venueP.style.display = "";
        } else {
            venueP.style.display = "none";
        }
    }
}

//function searchNames() {
//    var input, venueList, venueNames, a;
//    input = document.getElementById("nameSearch").value.toUpperCase();
//    venueList = document.getElementById("listBox");
//    venueNames = venueList.getElementsByTagName("p");
//    for (let i = 0; i < venueNames.length; i++) {
//        a = venueNames[i].getElementsByTagName("a")[0];
//        if (a.innerHTML.toUpperCase().indexOf(input) > -1) {
//            venueNames[i].style.display = "";
//        } else {
//            venueNames[i].style.display = "none";
//        }
//    }
//}

function clickClose() {
    $('#closeVenue').click(function () {
        $('.jsHide').removeClass('makeVisible');
        $('.login').removeClass('makeVisible');
        $('.newUser').removeClass('makeVisible');
        $('#leaveReview').removeClass('makeVisible');
    });
}


function watchButtons() {
    $('.listBox').on('click', 'button', viewVenue);
    $('.venueBox').on('click', '#reviewButton', showReview);
    $('.login').on('click', '#newUserButton', createNewUser);
    $('.login').on('click', '#cancelLogin', function () {
        $('input[name="signinUserName"]').val("");
        $('input[name="signinPassword"]').val("");
        $('.login').removeClass('makeVisible');
        $('.jsHide').addClass("makeVisible");
    });
    $('.newUser').on('click', '#cancelNewUser', function () {
        $('input[name="userName"]').val(""); // clear the input fields
        $('input[name="password"]').val("");
        $('input[name="passwordConfirm"]').val("");
        $('.newUser').removeClass('makeVisible');
        $('.jsHide').addClass("makeVisible");
    });
}

function showReview(venueNameFromLogin) {
    $('#closeVenue').removeClass('makeVisible'); // Hide close venue button
    let venueName = $(this).attr("title");
    if (venueName === undefined) { // if 'this' is undefined, then got to this function via login
        venueName = venueNameFromLogin;
    }
    $('#reviewMarquee').html(venueName.toUpperCase());
    $('#reviewMarquee').attr("title", venueName); // store venue name in marquee
    if (!LOGGEDIN) {
        $('.login').addClass('makeVisible');
    } else {
        $.getJSON('https://venue-evaluator.herokuapp.com/reviews/check/' + USERNAME + '/' + venueName, function (res) {
            if (res.results == null || res.results == "null") {
                rateVenue();
            } else {
                console.log(res);
                rateVenue({
                    listeningExperience: res.results.listeningExperience,
                    venueFeel: res.results.venueFeel,
                    musicValue: res.results.musicValue,
                    musicQuality: res.results.musicQuality,
                    foodQuality: res.results.foodQuality,
                    foodValue: res.results.foodValue
                }, res.results.userReview, res.results._id);
            }
        });
    }
}

function createNewUser(event) {
    event.preventDefault(); // otherwise page reloads when this function starts
    $('.login').removeClass('makeVisible');
    $('.newUser').addClass('makeVisible');
}

function rateVenue(ratingsArray, userReview, reviewId) {
    //    console.log("In rateVenue, initial value of reviewId:", reviewId);
    $('#leaveReview').addClass('makeVisible');
    let oldColor = $("body").css("color"); /* target color gets changed when clicked, so get base color from body instead */
    let newColor = "#86034D";
    if (userReview === undefined) { // array is ONLY passed if user is logged in and has already left review for venue
        $("#deleteReview").html(""); // remove 'delete review' button if it exists
        userReview = ' ';
        ratingsArray = {
            listeningExperience: "0",
            venueFeel: "0",
            musicValue: "0",
            musicQuality: "0",
            foodQuality: "0",
            foodValue: "0"
        };
        $("#skipReview").html("Cancel Review");
        $("#nowReviewing").html("NOW REVIEWING:");
    } else {
        $("#skipReview").html("Cancel Changes");
        $("#nowReviewing").html("YOUR REVIEW FOR");
        $("#deleteReview").html("<button id='deleteReviewButton'>Delete Review</button>");
    }
    $("#userComments").val(userReview);
    Object.keys(ratingsArray).forEach(function (key) {
        let starId = "#" + key;
        if (ratingsArray[key] === "5") {
            $(starId).find(".value1").css("color", newColor);
            $(starId).find(".value2").css("color", newColor);
            $(starId).find(".value3").css("color", newColor);
            $(starId).find(".value4").css("color", newColor);
            $(starId).find(".value5").css("color", newColor);
        } else if (ratingsArray[key] === "4") {
            $(starId).find(".value1").css("color", newColor);
            $(starId).find(".value2").css("color", newColor);
            $(starId).find(".value3").css("color", newColor);
            $(starId).find(".value4").css("color", newColor);
            $(starId).find(".value5").css("color", oldColor);
        } else if (ratingsArray[key] === "3") {
            $(starId).find(".value1").css("color", newColor);
            $(starId).find(".value2").css("color", newColor);
            $(starId).find(".value3").css("color", newColor);
            $(starId).find(".value4").css("color", oldColor);
            $(starId).find(".value5").css("color", oldColor);
        } else if (ratingsArray[key] === "2") {
            $(starId).find(".value1").css("color", newColor);
            $(starId).find(".value2").css("color", newColor);
            $(starId).find(".value3").css("color", oldColor);
            $(starId).find(".value4").css("color", oldColor);
            $(starId).find(".value5").css("color", oldColor);
        } else if (ratingsArray[key] === "1") {
            $(starId).find(".value1").css("color", newColor);
            $(starId).find(".value2").css("color", oldColor);
            $(starId).find(".value3").css("color", oldColor);
            $(starId).find(".value4").css("color", oldColor);
            $(starId).find(".value5").css("color", oldColor);
        } else {
            $(starId).find(".value1").css("color", oldColor);
            $(starId).find(".value2").css("color", oldColor);
            $(starId).find(".value3").css("color", oldColor);
            $(starId).find(".value4").css("color", oldColor);
            $(starId).find(".value5").css("color", oldColor);
        }
    });
    $('body').on('click', '#skipReview', function () {
        //       reset all values in array before exiting
        event.preventDefault();
        ratingsArray.listeningExperience = "0";
        ratingsArray.foodQuality = "0";
        ratingsArray.foodValue = "0";
        ratingsArray.musicQuality = "0";
        ratingsArray.musicValue = "0";
        ratingsArray.userName = "";
        ratingsArray.userReview = "";
        userReview = "";
        $('#leaveReview').removeClass('makeVisible');
        $('.jsHide').addClass("makeVisible");
    });
    $('#leaveReview').unbind().on('click', '#deleteReviewButton', function () { // unbind added to prevent click from firing multiple times
        myBoolean("Are you sure you want to permanently delete your review?", "Delete Review", "Don't Delete!").then(function (res) {
            if (res === "true") {
                ratingsArray.listeningExperience = "0";
                ratingsArray.foodQuality = "0";
                ratingsArray.foodValue = "0";
                ratingsArray.musicQuality = "0";
                ratingsArray.musicValue = "0";
                ratingsArray.userName = "";
                ratingsArray.userReview = "";
                userReview = "";
                $('#leaveReview').removeClass('makeVisible');
                getOneVenue($('#reviewMarquee').attr("title"));
                $.ajax({
                        method: 'DELETE',
                    url: 'https://venue-evaluator.herokuapp.com/delete/' + reviewId
                    })
                    .done(function (result) {
                        myAlert(`Your review has been deleted.  Pity.`, 'oops');
                    });
            } else {
                console.log("delete averted!");
            }
        });
    });
    $("#userReviews").on('click', '.star', function () {
        let categoryClicked = $(this).parent().attr("id");
        let ratingClicked = $(this).attr("value");
        if (categoryClicked === "listeningExperience") {
            ratingsArray.listeningExperience = ratingClicked;
        } else if (categoryClicked === "venueFeel") {
            ratingsArray.venueFeel = ratingClicked;
        } else if (categoryClicked === "musicValue") {
            ratingsArray.musicValue = ratingClicked;
        } else if (categoryClicked === "musicQuality") {
            ratingsArray.musicQuality = ratingClicked;
        } else if (categoryClicked === "foodQuality") {
            ratingsArray.foodQuality = ratingClicked;
        } else {
            ratingsArray.foodValue = ratingClicked;
        }
        if (ratingClicked === "5") {
            $(this).parent().find(".value1").css("color", newColor);
            $(this).parent().find(".value2").css("color", newColor);
            $(this).parent().find(".value3").css("color", newColor);
            $(this).parent().find(".value4").css("color", newColor);
            $(this).parent().find(".value5").css("color", newColor);
        } else if (ratingClicked === "4") {
            $(this).parent().find(".value1").css("color", newColor);
            $(this).parent().find(".value2").css("color", newColor);
            $(this).parent().find(".value3").css("color", newColor);
            $(this).parent().find(".value4").css("color", newColor);
            $(this).parent().find(".value5").css("color", oldColor);
        } else if (ratingClicked === "3") {
            $(this).parent().find(".value1").css("color", newColor);
            $(this).parent().find(".value2").css("color", newColor);
            $(this).parent().find(".value3").css("color", newColor);
            $(this).parent().find(".value4").css("color", oldColor);
            $(this).parent().find(".value5").css("color", oldColor);
        } else if (ratingClicked === "2") {
            $(this).parent().find(".value1").css("color", newColor);
            $(this).parent().find(".value2").css("color", newColor);
            $(this).parent().find(".value3").css("color", oldColor);
            $(this).parent().find(".value4").css("color", oldColor);
            $(this).parent().find(".value5").css("color", oldColor);
        } else {
            $(this).parent().find(".value1").css("color", newColor);
            $(this).parent().find(".value2").css("color", oldColor);
            $(this).parent().find(".value3").css("color", oldColor);
            $(this).parent().find(".value4").css("color", oldColor);
            $(this).parent().find(".value5").css("color", oldColor);
        }
    });
    //    console.log("value of ratingsArray after click", ratingsArray);
    $(".commentButtons").unbind().on('click', '#submitReview', function () { // unbind added to prevent click from firing multiple times
        event.preventDefault();
        if (ratingsArray.listeningExperience === "0" || ratingsArray.venueFeel === "0" || ratingsArray.musicValue === "0" || ratingsArray.musicQuality === "0") {
            myAlert("You can't leave any of the first four star fields blank!", "oops");
        } else {
            event.preventDefault();
            let venueName = $('#reviewMarquee').attr("title");
            userReview = $("#userComments").val().trim();
            if (userReview.length === 0) {
                userReview = " ";
            }
            ratingsArray.userReview = userReview;
            ratingsArray.venueName = venueName;
            ratingsArray.userName = USERNAME;
            if (reviewId === undefined) { // if no reviewId, then is a new review
                $.ajax({
                        type: 'POST',
                    url: 'https://venue-evaluator.herokuapp.com/new/create',
                        dataType: 'json',
                        data: JSON.stringify(ratingsArray),
                        contentType: 'application/json'
                    })
                    .done(function (result) {
                        console.log("new review posted:", result);
                        getOneVenue(ratingsArray.venueName);
                        $('#leaveReview').removeClass('makeVisible');
                        //reset values
                        ratingsArray.listeningExperience = "0";
                        ratingsArray.foodQuality = "0";
                        ratingsArray.foodValue = "0";
                        ratingsArray.musicQuality = "0";
                        ratingsArray.musicValue = "0";
                        ratingsArray.userName = "";
                        ratingsArray.userReview = "";
                        userReview = "";
                        myAlert(`Thank you for reviewing ${venueName}, ${USERNAME}!`, 'ok');
                    })
                    .fail(function (jqXHR, error, errorThrown) {
                        console.log(jqXHR);
                        console.log(error);
                        console.log(errorThrown);
                    });
            } else {
                $.ajax({
                        type: 'PUT',
                    url: 'https://venue-evaluator.herokuapp.com/review/update/' + reviewId,
                        dataType: 'json',
                        data: JSON.stringify(ratingsArray),
                        contentType: 'application/json'
                    })
                    .done(function (result) {
                        console.log(`Review ${reviewId} updated:`, result);
                        getOneVenue(ratingsArray.venueName);
                        $('#leaveReview').removeClass('makeVisible');
                        // reset values
                        ratingsArray.listeningExperience = "0";
                        ratingsArray.foodQuality = "0";
                        ratingsArray.foodValue = "0";
                        ratingsArray.musicQuality = "0";
                        ratingsArray.musicValue = "0";
                        ratingsArray.userName = "";
                        ratingsArray.userReview = "";
                        userReview = "";
                        myAlert(`You've updated your review for ${venueName}.  Well done, ${USERNAME}!`, 'ok');
                    })
                    .fail(function (jqXHR, error, errorThrown) {
                        console.log(jqXHR);
                        console.log(error);
                        console.log(errorThrown);
                    });
            }
        }
    });
}

function listenForFilters() {
    let venuetype = "all";
    let venuesize = "all";
    let freeticketed = "all";
    $("#venueType").change(function () {
        venuetype = $("#venueType").val();
        getSomeVenues(venuetype, venuesize, freeticketed);
        initMap(venuetype, venuesize, freeticketed);
    });
    $("#size").change(function () {
        venuesize = $("#size").val();
        getSomeVenues(venuetype, venuesize, freeticketed);
        initMap(venuetype, venuesize, freeticketed);
    });
    $("#freeTicketed").change(function () {
        freeticketed = $("#freeTicketed").val();
        getSomeVenues(venuetype, venuesize, freeticketed);
        initMap(venuetype, venuesize, freeticketed);
    });
}

function getSomeVenues(venuetype, venuesize, freeticketed) {
    $.getJSON('https://venue-evaluator.herokuapp.com/venues/partiallist/' + venuetype + '/' + venuesize + '/' + freeticketed, function (res) {
        $("#listBox").html("<span id='venueListTop'></span>"); /* clear existing text, if any, and add target for scrolltop function */
        if (res.results.length === 0) {
            $("#listBox").append(`<p>No results found!  You'll need to modify your preferences.</p>`);
        }
        for (x = 0; x < res.results.length; x++) {
            res.results[x].description.replace(/\s+/g, ' '); /* eliminate extra spaces, if any */
            let wordList = res.results[x].description.split(" ");
            let maxWords = 30;
            let description = "";
            if (wordList.length > maxWords) {
                for (y = 0; y < maxWords; y++) {
                    description += wordList[y] + " ";
                }
                description += "...";
            } else {
                description = res.results[x].description;
            }
            let altClass
            if (x % 2 === 0) {
                altClass = "even"
            } else {
                altClass = "odd"
            }
            $("#listBox").append(`<p class="oneVenue ${altClass}" id="${res.results[x].venuename}"><a href="${res.results[x].website}" class="venueName" title="${res.results[x].longvenuename}">${res.results[x].venuename}</a> - <span class="address">${res.results[x].streetaddress}</span><br><span class="description">${description}</span><button>More Info</button><input type="hidden" class = "picUrl" value="${res.results[x].imageurl}"><input type="hidden" class = "fullDesc" value="${res.results[x].description}"><input type="hidden" class = "longName" value="${res.results[x].longvenuename}"></p>`);
        };
        $("#listBox").animate({ //scroll to top of list after list generated
            scrollTop: $('#venueListTop')
        });
    });
}

// note - this calls renderVenue, a function which is in the index.html page (due to needs with Google map)
function getOneVenue(venueName) {
    $.getJSON('https://venue-evaluator.herokuapp.com/locations/onevenue/' + venueName, function (res) {
        renderVenue(res.results.venuename, res.results.website, res.results.streetaddress, res.results.description, res.results.imageurl);
    });
}

// Code to create new user:

$('#newUser').on('submit', function (event) {
    event.preventDefault();
    const uname = $('input[name="userName"]').val();
    const pw = $('input[name="password"]').val();
    const confirmPw = $('input[name="passwordConfirm"]').val();
    if (pw !== confirmPw) {
        myAlert('Passwords must match!', 'ok');
    } else if (uname.length === 0) {
        myAlert('You must enter a username!', 'ok');
    } else if (pw.length < 6) {
        myAlert('Your password must have at least 6 characters!', 'oops');
    } else if (/\s/.test(uname) || /\s/.test(pw)) {
        myAlert("Sorry, usernames & passwords cannot contain spaces!", "oops");
    } else {
        const newUserObject = {
            username: uname,
            password: pw
        };
        // will assign a value to variable 'user' in signin step below
        // AJAX call to send form data up to server/DB and create new user
        $.ajax({
                type: 'POST',
            url: 'https://venue-evaluator.herokuapp.com/users/create',
                dataType: 'json',
                data: JSON.stringify(newUserObject),
                contentType: 'application/json'
            })
            .done(function (result) {
                myAlert(`Thanks for signing up, ${uname}! You may now sign in with your username and password.`, 'ok');
                console.log(result);
                $('input[name="userName"]').val(""); // clear the input fields
                $('input[name="password"]').val("");
                $('input[name="passwordConfirm"]').val("");
                $('.newUser').removeClass('makeVisible');
                $('.login').addClass('makeVisible');
            })
            .fail(function (jqXHR, error, errorThrown) {
                alert("Uh-oh, something went wrong! Try a different username.");
                $('input[name="userName"]').val(""); // clear the input fields
                $('input[name="password"]').val("");
                $('input[name="passwordConfirm"]').val("");
                console.log(jqXHR);
                console.log(error);
                console.log(errorThrown);
            });
    };
});

// Code to log user in:

$('#login').on('click', '#loginClicked', function (event) {
    event.preventDefault();
    // AJAX call to validate login info and sign user in
    const inputUname = $('input[name="signinUserName"]').val();
    const inputPw = $('input[name="signinPassword"]').val();
    // check for spaces, empty, undefined
    if ((!inputUname) || (inputUname.length < 1) || (inputUname.indexOf(' ') > 0)) {
        myAlert('You entered an invalid username', 'oops');
    } else if ((!inputPw) || (inputPw.length < 1) || (inputPw.indexOf(' ') > 0)) {
        myAlert('You entered an invalid password', 'oops');
    } else {
        const unamePwObject = {
            username: inputUname,
            password: inputPw
        };
        user = inputUname;
        $.ajax({
                type: "POST",
            url: "https://venue-evaluator.herokuapp.com/signin",
                dataType: 'json',
                data: JSON.stringify(unamePwObject),
                contentType: 'application/json'
            })
            .done(function (result) {
                LOGGEDIN = true;
                USERNAME = user;
                myAlert(`Welcome, ${user}!  You're now logged in!`, "ok");
                $('input[name="signinUserName"]').val("");
                $('input[name="signinPassword"]').val("");
                //                $('#closeVenue').addClass('makeVisible'); // Show close venue button
                $('.login').removeClass('makeVisible');
                //                $('#leaveReview').addClass('makeVisible');
                let venueName = $('#reviewMarquee').attr("title");
                showReview(venueName);
            })
            .fail(function (jqXHR, error, errorThrown) {
                console.log(jqXHR);
                console.log(error);
                console.log(errorThrown);
                myAlert('You entered an invalid username and password combination. Pleae check your username and password and try again.', 'oops');
            });
    };
});

function myAlert(sayThis, choice) {
    let okChoices = ["Uhh, sure... OK", "Happy to oblige", "Did I have any other choice?", "It seemed the right thing to do", "I was bored", "My cat's breath smells like cat food", "I didn't realize I had a choice", "Hooray?", "Snazzy.", "Well, I'll be!", "Well, ain't that grand!"];
    let oopsChoices = ["My mouse finger slipped", "I was young, I needed the money", "I was trying to play a cat video", "I did no such thing!", "My cat ran across my keyboard", "The peer pressure got to me", "Somebody else must have done that", "I must have been drunk", "I hit the wrong key", "Don't blame me for that!", "It was an accident", "Don't hold it against me!"];
    let reasons;
    if (choice === "oops") {
        reasons = oopsChoices;
    } else {
        reasons = okChoices;
    }
    let thisReason = reasons[Math.floor(Math.random() * reasons.length)];
    $(".alertBoxContainer").addClass("visibleAlert");
    $(".alertBox").addClass("visibleAlert");
    $(".alertBox").html(sayThis + `<br><button id='yes'>${thisReason}</button>`);
    $(".alertBox").on('click', '#yes', function () {
        event.preventDefault();
        $(".alertBoxContainer").removeClass("visibleAlert");
        $(".alertBox").removeClass("visibleAlert");
        $(".alertBox").html("");
    });
}

function myBoolean(sayThis, buttonOne, buttonTwo) {
    $(".alertBoxContainer").addClass("visibleAlert");
    $(".alertBox").addClass("visibleAlert");
    $(".alertBox").html(`${sayThis}<br><button title='true'>${buttonOne}</button><button title='false'>${buttonTwo}</button>`);
    return new Promise((resolve, reject) => {
        $(".alertBox").on('click', 'button', function () {
            event.preventDefault();
            $(".alertBoxContainer").removeClass("visibleAlert");
            $(".alertBox").removeClass("visibleAlert");
            $(".alertBox").html("");
            resolve($(this).attr("title"));
        });
    });
}


$(clickClose);
$(getSomeVenues("all", "all", "all")); // seed the venue list with no filters
$(watchButtons);
$(listenForFilters);

</script>
